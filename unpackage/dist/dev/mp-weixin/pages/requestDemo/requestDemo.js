"use strict";const e=require("../../common/vendor.js");if(!Array){const u=e.resolveComponent("uni-segmented-control"),o=e.resolveComponent("uni-icons"),a=e.resolveComponent("uni-load-more");(u+o+a)()}const v=()=>"../../uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control.js",g=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js",f=()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js";Math||(v+g+f)();const h={__name:"requestDemo",setup(u){const o=e.ref([]),a=n=>{const c=o.value.map(t=>t.url);e.index.previewImage({current:n,urls:c,indicator:"default"})},l=e.ref(0),i=e.ref([{key:"all",value:"全部"},{key:"dog",value:"狗狗"},{key:"cat",value:"猫猫"}]),d=e.computed(()=>i.value.map(n=>n.value)),_=n=>{l.value=n.currentIndex,o.value=[],console.log(n.currentIndex),r(i.value[n.currentIndex].key)};function r(n="all"){e.index.showLoading(),new Promise(function(c,t){e.index.request({url:"https://tea.qingnian8.com/tools/petShow",data:{size:5,type:n}}).then(s=>{s.data.errCode==0?(o.value=[...o.value,...s.data.data],console.log(o.value)):s.data.errCode==400&&e.index.showToast({title:s.data.errMsg,icon:"none",duration:2e3}),console.log(o.value)}).catch(s=>{e.index.showToast({title:"请求错误",icon:"none",duration:2e3})}).finally(()=>{e.index.hideLoading(),e.index.stopPullDownRefresh()})})}e.onReachBottom(()=>{r()}),e.onPullDownRefresh(()=>{o.value=[],r()});const m=()=>{e.index.startPullDownRefresh()},p=()=>{e.index.pageScrollTo({scrollTop:0,duration:100})};return r(),(n,c)=>({a:e.o(_),b:e.p({current:l.value,values:d.value,styleType:"button",activeColor:"#4cd964"}),c:e.f(o.value,(t,s,x)=>({a:t.url,b:e.o(w=>a(s),t._id),c:e.t(t.content),d:e.t(t.author),e:t._id})),d:e.p({type:"refresh",size:"26",color:"#888"}),e:e.o(m),f:e.p({type:"arrow-up",size:"26",color:"#888"}),g:e.o(p),h:e.p({status:"loading"})})}},y=e._export_sfc(h,[["__scopeId","data-v-e25b1ed9"],["__file","C:/Users/35103/Desktop/学习项目/项目/咸虾米壁纸相关/萌宠demo/pages/requestDemo/requestDemo.vue"]]);wx.createPage(y);
